# this is a common muttrc file
# generated by salt on hostname {{ grains['host'] }}
set folder={{ salt['pillar.get']('mutt_folder') }}
set spoolfile={{ salt['pillar.get']('mutt_spoolfile') }}
set imap_user={{ salt['pillar.get']('mutt_user')  }}
set imap_pass={{ salt['pillar.get']('mutt_pass')  }}
set smtp_url={{ salt['pillar.get']('mutt_smtp_url')  }}
set smtp_pass={{ salt['pillar.get']('mutt_smtp_pass')  }}
set record={{ salt['pillar.get']('record')  }}
set signature="~/20-PersonalConfig/mutt/firma-authenware.txt"
alternates "jmoyano@(silice.biz|authenware.com)"
set shell=/bin/bash
#set query_command="lbdbq '%s'"
set timeout=10
set header_cache=~/.hcache-silice
set net_inc=5
set pager_stop = yes
set fast_reply = yes
set sort_browser = alpha
set mime_forward=yes # adjunta el mail como MIME cuando reenvio
set strict_threads=yes
set timeout = 12                # 
set mail_check = 60		# how often to poll for new mail
set check_new = yes
set mask= !(new|cur|tmp)        # excluidos subfolders maildir
set abort_unmodified=no		# automatically abort replies if I don't
set editor=vim			# change the message
set alias_file=~/20-PersonalConfig/mutt/mutt.aliases	# where I keep my aliases
source ~/20-PersonalConfig/mutt/mutt.aliases	# where I keep my aliases
set allow_8bit			# never do Q-P encoding on legal 8-bit chars
set quit=yes
# set ascii_chars		# use ASCII instead of ACS chars for threads
set attribution="%n escribiÃ³:"	# how to attribute replies
set autoedit			# go to the editor right away when composing
set charset="utf-8"		# character set for your terminal
set noconfirmappend		# don't ask me if i want to append to mailboxes
set copy=yes			# always save a copy of outgoing messages
set delete=yes			# purge deleted messages without asking
set folder_format="%> %C %> %N %f %d" 
set help			# show the help lines
set hostname="realbox.intra.wincus.com.ar"
set include			# always include messages when replying
set locale="es"			# locale to use for printing time
set nomark_old			# i don't care about whether a message is old
set menu_scroll=no		# no implicit next-page/prev-page
set metoo=no			# remove my address when replying
#set mime_forward		# use message/rfc822 type to forward messages
set move=no			# don't ask about moving messages, just do it
set pager_index_lines=5	        # how many index lines to show in the pager
set print_command=lpr	        # how to print things (I like to save trees)
set noprompt_after	        # ask me for a command after the external pager exits
set read_inc=50		        # show progress when reading a mailbox
set recall			# prompt to recall postponed messages
set reverse_alias		# attempt to look up my names for people
set nosave_empty		# remove files when no messages are left
set from=jmoyano@authenware.com
set envelope_from=yes		# puesto por mi
set sort = date-received
# set sort_aux=date-received	# how to sort subthreads
# set sort_aux =  # date of the last message in thread
set tilde			# virtual lines to pad blank lines in the pager
set use_from			# always generate the `From:' header field
set pgp_verify_sig=yes		# don't automatically verify message signatures
set pgp_sign_as="0xACC4E9B7"	# mi firmadigital
set write_inc=50		# show progress while writing mailboxes
set ispell="/usr/bin/aspell -c"
set compose_format="-- %v-- Compose  [Approximate Message Size: %l   Attachments: %a]%>-"
alternative_order text/plain text/html      # Show the text mime firstly

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Header fields I don't normally want to see
#
ignore *		# this means "ignore all lines by default"

# I do want to see these fields, though!
unignore	from: subject to cc date # this shows how nicely wrap long lines

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

# Color definitions
#color normal default default
#color hdrdefault red blue 
#color quoted brightgreen blue
#color signature red blue 
#color indicator brightyellow red
#color error brightred blue 
#color status brightyellow red
#color tree default default	# the thread tree in the index menu
#color tilde magenta default
#color message brightcyan blue 
#color markers brightcyan blue
#color attachment brightmagenta blue 
#color search default green	# how to hilite search patterns in the pager
#color header brightred blue  ^(From|Subject):
#color body magenta blue "(ftp|http)://[^ ]+"	# point out URLs
#color body magenta blue [-a-z_0-9.]+@[-a-z_0-9.]+	# e-mail addresses
#color underline brightgreen blue
color index blue        black  "~F"     # important
color index blue        black  "~T"     # Tagged
color index yellow      black  "~N"     # New
color index brightblue  black  "~D"     # deleted
#
## attributes when using a mono terminal
# mono header underline ^(From|Subject):
# mono quoted bold

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# Key bindings
#
#	maps:
#		alias		alias menu
#		attach		attachment menu
#		browser		directory browser
#		compose		compose menu
#		index		message index
#		pgp		pgp menu
#		postpone	postponed message recall menu
#		generic		generic keymap for all of the above
#		editor		line editor
#		pager		text viewer
#		

bind generic "\e<" first-entry	# emacs-like bindings for moving to top/bottom
bind generic \e> last-entry
bind generic { top-page
bind generic } bottom-page
bind generic \177 last-entry

# macro index \cb | urlview\n	# simulate the old browse-url function
macro index esc j s
# macro index S s+spam\n
# macro pager S s+spam\n
macro index S D(root|puppet|nagios)@authenware.com

#macro index \# /bug^M	# search for bugs
#macro index "\""        ":set realname=\"real hairy macro\"^M:set ?realname^M" # and a comment to boot!
# macro index f1 :woohoo!

bind pager G bottom	# just like vi and less
#macro   pager   \Ck     "|pgp -kaf^M"   # a comment is valid here
#macro pager X "|morepgp^M"	# pipe PGP message to a script

#bind editor \cy eol	# make ^Y jump to the end of the line

# User Defined Headers
my_hdr X-Operating-System: `uname -a`
send-hook '.*'  'my_hdr From: Juan A. Moyano <jmoyano@authenware.com>

# Specify the order of the headers to appear when displaying a message
unhdr_order *				# forget the previous settings
hdr_order  from date subject to cc

# Automatically use entries from ~/.mailcap to view these MIME types
auto_view application/x-gunzip
auto_view application/x-gzip
auto_view text/html

# unset strict_mime
charset-hook ^us-ascii$ cp1252
charset-hook ^iso-8859-1$ cp1252
# unset strict_mime
set assumed_charset="iso-8859-1"

# aliases for broken MUAs
charset-hook windows-1250 CP1250
charset-hook windows-1251 CP1251
charset-hook windows-1252 CP1252
charset-hook windows-1253 CP1253
charset-hook windows-1254 CP1254
charset-hook windows-1255 CP1255
charset-hook windows-1256 CP1256
charset-hook windows-1257 CP1257
charset-hook windows-1258 CP1258
